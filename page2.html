<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UBHACKOPOLY â€“ Player Setup</title>
  <style>
    :root{
      --sky-1:#e6f4ff; --sky-2:#bfe4f2; --ink:#1d2230;
      --tile:#f2e9d7; --shadow:0 12px 30px rgba(0,0,0,.18);
      --accent:#0b5fbf; --accent-dark:#084b99;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--ink);
      background:
        url("monopoly board.jpg") center / contain no-repeat,
        url("moneyBackground.avif") center / cover no-repeat fixed;
      display:grid; place-items:center;
    }
    .stage{ width:min(96vw,1200px); aspect-ratio:8/5; position:relative; }
    .sky{
      position:absolute; inset:10px;
      background:radial-gradient(120% 90% at 50% 10%, var(--sky-1), var(--sky-2));
      border-radius:18px; box-shadow:var(--shadow);
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      gap:clamp(14px,3vw,30px);
      padding:clamp(12px,2vw,28px); text-align:center;
    }
    .subtitle{
      font-weight:800; letter-spacing:.12em; text-transform:uppercase;
      color:#0b5fbf;
      text-shadow:0 2px 0 #ffffff66, 0 4px 18px rgba(0,0,0,.15);
      font-size:clamp(14px,2.8vw,32px);
    }
    .name-row{ width:min(90%,720px); margin:0 auto; }
    .name-input{
      width:100%; font-size:clamp(14px,2.4vw,22px);
      padding:14px 16px; border-radius:14px; border:2px solid rgba(0,0,0,.1);
      outline:none; background:#ffffffd9; box-shadow:0 8px 18px rgba(0,0,0,.12);
    }
    .pieces-grid{
      width:min(90%,720px); margin:0 auto;
      display:grid; grid-template-columns:repeat(4,1fr);
      gap:clamp(12px,2vw,20px); justify-items:center;
    }
    .piece{
      width:100%; aspect-ratio:1/1; border-radius:14px;
      background:var(--tile); border:3px dashed #c6bda7; box-shadow:var(--shadow);
      display:grid; place-items:center; cursor:pointer;
      transition:all .12s ease;
    }
    .piece:hover{ transform:translateY(-3px); box-shadow:0 16px 32px rgba(0,0,0,.22) }
    .piece.selected{ border-style:solid; border-color:var(--accent); background:#fff;
      box-shadow:0 0 0 4px rgba(11,95,191,.18), 0 16px 32px rgba(0,0,0,.22) }
    .piece-label{ font-size:clamp(12px,2vw,16px); opacity:.5; user-select:none }
    .actions{
      width:min(90%,720px); margin-top:clamp(8px,2vw,16px);
      display:flex; justify-content:center;
    }
    .btn-continue{
      appearance:none; border:none; cursor:pointer;
      padding:14px 24px; border-radius:14px;
      background:linear-gradient(180deg, var(--accent), var(--accent-dark));
      color:#fff; font-weight:800; letter-spacing:.04em;
      box-shadow:0 10px 24px rgba(0,0,0,.18);
    }
  </style>
</head>
<body>
  <div class="stage">
    <div class="sky">
      <div class="subtitle">Player Setup</div>
      <div class="name-row">
        <input class="name-input" type="text" placeholder="Enter your name" id="username"/>
      </div>
      <div class="pieces-grid">
        <button class="piece" aria-label="Piece 1"><span class="piece-label">Piece 1</span></button>
        <button class="piece" aria-label="Piece 2"><span class="piece-label">Piece 2</span></button>
        <button class="piece" aria-label="Piece 3"><span class="piece-label">Piece 3</span></button>
        <button class="piece" aria-label="Piece 4"><span class="piece-label">Piece 4</span></button>
      </div>
      <div class="actions">
        <button class="btn-continue" id="continueBtn">Continue</button>
      </div>
    </div>
  </div>

  <script>
    const pieces = document.querySelectorAll('.piece');
    let selectedPiece = null;
    pieces.forEach(btn => {
      btn.addEventListener('click', () => {
        pieces.forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        selectedPiece = btn.getAttribute('aria-label');
      });
    });

    const playerCount = parseInt(localStorage.getItem("playerCount")) || 2;
    const allPlayers = JSON.parse(localStorage.getItem("players") || "[]");

    document.getElementById('continueBtn').addEventListener('click', () => {
      const name = document.getElementById('username').value.trim();
      if (!name) return alert("Please enter your name!");
      if (!selectedPiece) return alert("Please select your piece!");

      allPlayers.push({ name, piece: selectedPiece });
      localStorage.setItem("players", JSON.stringify(allPlayers));

      if (allPlayers.length < playerCount) {
        alert(`Player ${allPlayers.length} saved! Next player, please enter your info.`);
        window.location.reload();
      } else {
        alert("All players set! Starting the game...");
        window.location.href = "page3.html";
      }
    });
  </script>
</body>
</html>
